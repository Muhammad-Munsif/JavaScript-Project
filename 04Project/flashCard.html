<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlashCards</title>
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <header>
    <div class="container">
      <div class="nav">
        <h1>Flash Cards</h1>
        <div>
          <button onclick="showCreateNewCards()">New Card</button>
          <button onclick="delFlashCard()">Delete Card</button>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="create-box" style="display: none;">
      <h2>Create FlashCard</h2>
      <label for="question">Question</label>
      <textarea id="question"></textarea>
      <br />
      <label for="answer">Answer</label>
      <textarea id="answer"></textarea>
      <div>
        <button onclick="addFlashCard()">Save</button>
        <button onclick="hideCreateBox()">Close</button>
      </div>
    </div>
    <div class="flashcards"></div>
  </div>
  <script src="js/script.js"></script>

  <script>
    const flashcards = document.querySelector(".flashcards");
    const createBox = document.querySelector(".create-box");
    const question = document.getElementById("question");
    const answer = document.getElementById("answer");
    let contentArray = localStorage.getItem("items")
      ? JSON.parse(localStorage.getItem("items"))
      : [];

    function delFlashCard() {
      localStorage.clear();
      flashcards.innerHTML = '';
      contentArray = [];
    }

    function addFlashCard() {
      const flashcardInfo = {
        my_question: question.value,
        my_answer: answer.value,
      };
      contentArray.push(flashcardInfo);
      localStorage.setItem("items", JSON.stringify(contentArray));
      divMaker(flashcardInfo);
      question.value = '';
      answer.value = '';
    }

    contentArray.forEach(divMaker);

    function divMaker(text) {
      const div = document.createElement("div");
      const h2_question = document.createElement("h2");
      const h2_answer = document.createElement("h2");
      div.className = "flashcard";

      h2_question.setAttribute(
        "style",
        "border: 1px solid red; padding: 15px; margin-top: 30px;"
      );
      h2_question.innerHTML = text.my_question;

      h2_answer.setAttribute(
        "style",
        "text-align: center; display: none; color: red;"
      );
      h2_answer.innerHTML = text.my_answer;

      div.appendChild(h2_question);
      div.appendChild(h2_answer);

      div.addEventListener("click", function () {
        if (h2_answer.style.display === "none") {
          h2_answer.style.display = "block";
        } else {
          h2_answer.style.display = "none";
        }
      });

      flashcards.appendChild(div);
    }

    function showCreateNewCards() {
      createBox.style.display = "block";
    }

    function hideCreateBox() {
      createBox.style.display = "none";
    }
  </script>
</body>

</html>